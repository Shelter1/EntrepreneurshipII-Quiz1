<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creativity Assessment Portal</title>
    <style>
        :root {
            --accent: #a1c4fd;
            --glass: rgba(255, 255, 255, 0.95);
            --text: #333;
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(45deg, #e3f2fd, #fce4ec, #fff9c4);
            background-size: 400% 400%;
            animation: moveBG 20s infinite alternate;
            min-height: 100vh;
            display: flex; justify-content: center; align-items: center;
        }

        @keyframes moveBG { 0% { background-position: 0% 50%; } 100% { background-position: 100% 50%; } }

        .container {
            background: var(--glass);
            width: 90%; max-width: 550px;
            padding: 30px; border-radius: 25px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            position: relative; text-align: center;
        }

        .logo-container { margin-bottom: 20px; }
        .logo-container img { max-width: 120px; height: auto; border-radius: 10px; }

        .hidden { display: none !important; }

        input {
            width: 100%; padding: 12px; margin: 10px 0;
            border: 1px solid #ddd; border-radius: 10px; box-sizing: border-box;
        }

        button {
            background: var(--accent); color: white; border: none;
            padding: 12px 25px; border-radius: 12px; font-weight: bold;
            cursor: pointer; transition: 0.3s; margin: 5px;
        }

        button:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }

        #timer { font-weight: bold; color: #ff5252; font-size: 1.2rem; margin-bottom: 10px; }
        .progress { color: #888; font-weight: bold; margin-bottom: 15px; }

        .option {
            display: flex; align-items: center; padding: 15px;
            border-bottom: 1px solid #eee; cursor: pointer; text-align: left;
            transition: background 0.2s;
        }
        .option:hover { background: #f8f9fa; }
        .letter-box {
            min-width: 35px; height: 35px; background: #eee;
            display: flex; justify-content: center; align-items: center;
            border-radius: 8px; margin-right: 15px; font-weight: bold;
        }

        .score-display { font-size: 3rem; font-weight: bold; color: var(--accent); margin: 20px 0; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 0.9rem; }
        th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
        th { background: #f4f4f4; }
    </style>
</head>
<body>

    <div class="container">
        <div class="logo-container">
            <img src="logo.png" alt="School Logo" onerror="this.src='https://via.placeholder.com/120x60?text=LOGO'">
        </div>

        <div id="login-screen">
            <h2>Entreprenuership Assessment Form 2</h2>
            <h2>First Semester</h2>
            <input type="text" id="student-name" placeholder="Full Name">
            <input type="text" id="student-class" placeholder="Class/Grade">
            <button onclick="startQuiz()" style="width: 100%;">Start 20-Min Quiz</button>
            <p><small><a href="#" onclick="showTeacherLogin()" style="color: #888;">Teacher Dashboard</a></small></p>
        </div>

        <div id="quiz-screen" class="hidden">
            <div id="timer">20:00</div>
            <div class="progress" id="progress">1 / 20</div>
            <h3 id="question-text" style="text-align: left;">Question?</h3>
            <div id="options-container"></div>
        </div>

        <div id="result-screen" class="hidden">
            <h2>Quiz Completed!</h2>
            <p>Well done, <span id="display-name"></span>!</p>
            <div class="score-display" id="final-score">0/20</div>
            <p id="score-commentary"></p>
            <button onclick="location.reload()">Finish</button>
        </div>

        <div id="teacher-dashboard" class="hidden">
            <h2>Teacher Records</h2>
            <button onclick="exportCSV()">Download CSV</button>
            <button onclick="clearRecords()" style="background: #ff5252;">Clear Data</button>
            <button onclick="location.reload()">Logout</button>
            <div style="overflow-x:auto;">
                <table>
                    <thead><tr><th>Name</th><th>Class</th><th>Score</th><th>Date</th></tr></thead>
                    <tbody id="scores-body"></tbody>
                </table>
            </div>
        </div>
    </div>

<script>
    const QUESTIONS_MASTER = [
        { q: "Creativity in entrepreneurship primarily refers to:", options: ["Copying successful business models", "Developing new ideas using imagination and experience", "Following routine procedures only", "Working without any plan"], a: 1 },
        { q: "Which technique is commonly used to develop creativity?", options:["Brainstorming","Paying suppliers","Filing taxes","Scheduling staff only"], a:0 },
        { q: "A major barrier to creativity is:", options:["Open-mindedness","Fear of failure","Exploration","Collaboration"], a:1 },
        { q: "Which factor enhances creativity in Ghanaian businesses?", options:["Strict routines","Supportive environment","Copying competitors","Ignoring customer feedback"], a:1 },
        { q: "Mind mapping is used to:", options:["Organize creative ideas","Record financial transactions","Hire employees","Track taxes"], a:0 },
        { q: "Incubation in the creative process means:", options:["Thinking about the idea subconsciously","Launching a product immediately","Copying competitor strategies","Hiring staff"], a:0 },
        { q: "A Ghanaian practical example of creativity is:", options:["Designing unique Kente bag patterns","Selling imported items only","Following others' business ideas","Working only in the office"], a:0 },
        { q: "Which of these is a benefit of creativity in business?", options:["Competitive advantage","More taxes","Longer working hours","Copying rivals"], a:0 },
        { q: "Which is a feature of a creative person?", options:["Curiosity","Avoiding challenges","Following strict rules","Ignoring ideas"], a:0 },
        { q: "Brainwriting is a technique that helps:", options:["Develop creative ideas collaboratively","Pay staff salaries","Stock inventory","Prepare legal documents"], a:0 },
        { q: "Open and supportive environment helps creativity because:", options:["It restricts ideas","It encourages experimentation","It reduces motivation","It increases costs"], a:1 },
        { q: "Playfulness and experimentation in business leads to:", options:["Innovation","Failure only","Routine work","No effect"], a:0 },
        { q: "One feature of a creative mind is:", options:["Flexibility","Rigidity","Avoidance","Imitation"], a:0 },
        { q: "A key step in developing creativity is 'Illumination' which means:", options:["Having sudden insight","Planning budgets","Hiring staff","Writing invoices"], a:0 },
        { q: "A common consequence of negative criticism on creativity is:", options:["Reduced innovation","Enhanced imagination","Better ideas","More collaboration"], a:0 },
        { q: "Curiosity enhances creativity because:", options:["It motivates exploration and learning","It increases fear of failure","It restricts thinking","It prevents risk-taking"], a:0 },
        { q: "Freedom to fail allows creative entrepreneurs to:", options:["Experiment without fear","Avoid planning","Ignore customers","Reduce profits"], a:0 },
        { q: "Continuous learning is important for creativity because:", options:["It improves skills and knowledge","It wastes time","It hinders innovation","It reduces focus"], a:0 },
        { q: "Diverse experiences enhance creativity by:", options:["Providing multiple perspectives","Limiting exposure","Increasing stress","Reducing options"], a:0 },
        { q: "Feedback and collaboration enhance creativity by:", options:["Offering new insights and refining ideas","Reducing teamwork","Increasing rigidity","Avoiding mistakes"], a:1 }
    ];

    let currentQuestions = [];
    let currentIndex = 0;
    let score = 0;
    let timer;
    let timeLeft = 1200; 

    function startQuiz() {
        const name = document.getElementById('student-name').value;
        const cls = document.getElementById('student-class').value;
        if(!name || !cls) return alert("Please enter your details");

        currentQuestions = [...QUESTIONS_MASTER].sort(() => Math.random() - 0.5);
        document.getElementById('login-screen').classList.add('hidden');
        document.getElementById('quiz-screen').classList.remove('hidden');
        startTimer();
        renderQuestion();
    }

    function startTimer() {
        timer = setInterval(() => {
            timeLeft--;
            let m = Math.floor(timeLeft / 60);
            let s = timeLeft % 60;
            document.getElementById('timer').innerText = `${m}:${s < 10 ? '0' : ''}${s}`;
            if (timeLeft <= 0) endQuiz();
        }, 1000);
    }

    function renderQuestion() {
        const q = currentQuestions[currentIndex];
        document.getElementById('progress').innerText = `Question ${currentIndex + 1} of ${currentQuestions.length}`;
        document.getElementById('question-text').innerText = q.q;
        const container = document.getElementById('options-container');
        container.innerHTML = '';
        q.options.forEach((opt, i) => {
            const div = document.createElement('div');
            div.className = 'option';
            div.innerHTML = `<div class="letter-box">${String.fromCharCode(65+i)}</div><div>${opt}</div>`;
            div.onclick = () => { score += (i === q.a ? 1 : 0); nextStep(); };
            container.appendChild(div);
        });
    }

    function nextStep() {
        currentIndex++;
        if(currentIndex < currentQuestions.length) renderQuestion();
        else endQuiz();
    }

    function endQuiz() {
        clearInterval(timer);
        saveResult();
        document.getElementById('quiz-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.remove('hidden');
        document.getElementById('display-name').innerText = document.getElementById('student-name').value;
        document.getElementById('final-score').innerText = `${score} / ${currentQuestions.length}`;
        document.getElementById('score-commentary').innerText = score >= 15 ? "Excellent! You have a highly creative mindset." : "Good effort! Keep exploring new ideas.";
    }

    function saveResult() {
        const results = JSON.parse(localStorage.getItem('quizResults') || '[]');
        results.push({
            name: document.getElementById('student-name').value,
            class: document.getElementById('student-class').value,
            score: `${score}/${currentQuestions.length}`,
            date: new Date().toLocaleString()
        });
        localStorage.setItem('quizResults', JSON.stringify(results));
    }

    function showTeacherLogin() {
        if(prompt("Teacher Password:") === "teacher@123") {
            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('teacher-dashboard').classList.remove('hidden');
            const data = JSON.parse(localStorage.getItem('quizResults') || '[]');
            document.getElementById('scores-body').innerHTML = data.map(r => 
                `<tr><td>${r.name}</td><td>${r.class}</td><td>${r.score}</td><td>${r.date}</td></tr>`
            ).join('');
        }
    }

    function exportCSV() {
        const results = JSON.parse(localStorage.getItem('quizResults') || '[]');
        let csv = "Name,Class,Score,Date\n" + results.map(r => `${r.name},${r.class},${r.score},${r.date}`).join("\n");
        const blob = new Blob([csv], { type: 'text/csv' });
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = 'creativity_scores.csv';
        a.click();
    }

    function clearRecords() { if(confirm("Clear all data?")) { localStorage.removeItem('quizResults'); location.reload(); } }
</script>
</body>
</html>